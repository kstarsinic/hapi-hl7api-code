<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">

	<properties>
		<title>HAPI TestPanel</title>
		<author email="jamesagnew@users.sourceforge.net">John Doe</author>
	</properties>

	<body>

		<!-- The body of the document contains a number of sections -->
		<section name="HAPI TestPanel">

			<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
			<script type="text/javascript" src="jquery.magnifier.js">
				/***********************************************
				* jQuery Image Magnify- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
				* This notice MUST stay
				intact for legal use
				* Visit Dynamic Drive at http://www.dynamicdrive.com/ for this script and 100s more
				***********************************************/
			</script>

			<b>Jump to...</b>

			<macro name="toc">
				<!-- <param name="section" value="2" />
				<param name="fromDepth" value="0" />
				<param name="toDepth" value="4" />-->
			</macro>

			<p>
				The HAPI TestPanel is a full featured HL7 message editor,
				transmitter and receiver. This software is still an alpha
				release, so please use it with caution!
			</p>

			<img src="images/testpanel_mainwindow.png" alt="Main Window" class="magnify" style="width:200px; height:109px" />
			<br />

			<p>
				Click to magnify the screenshots. This software can be used to test applications which use the
				HAPI Java API, but it can also be used to test applications which
				don't! It is also intended to be a
				showcase for HAPI's many features.
			</p>

		</section>

		<section name="Installing TestPanel">

			<subsection name="Using WebStart">

				<p>
					The easiest way to get started is to
					<a href="http://hl7api.sourceforge.net/hapi-testpanel/jnlp/launch.jnlp">install TestPanel using Java WebStart</a>
					.
				</p>

			</subsection>
			<subsection name="Downloading">

				<p>
					Alternately, an application bundle is available for Mac/OSX, and an executable
					JAR is available for Windows/Linux. To access these, see
					<a href="https://sourceforge.net/projects/hl7api/files/hapi-testpanel">Downloads</a>
					.
					(Help Wanted: If you have any experience in bundling desktop applications for Windows,
					we could use your help! Please get in touch.)
				</p>

			</subsection>

		</section>

		<section name="Getting Started">

			<p>
				Once the application has started, populate it with test data by
				entering the "Test" menu and
				clicking "Populate TestPanel with Sample Message and Connections".
			</p>

			<p>
				This creates a receiving connection (a connection which receives messages)
				on a randomly assigned port. It also creates a sending connection (a
				connection which sends messages) to that same port, so that you can send
				a message to yourself. It then creates a sample message for you to send.
			</p>

			<subsection name="Sending a message to yourself">

				<table border="0" cellpadding="4" cellspacing="4">
					<tr>
						<td>
							<img src="images/testpanel_startreceiver.png" alt="Main Window" class="magnify" style="width:207px; height:144px" />
						</td>
						<td style="background: #FFFFFF;">
							First, choose the receiving connection by clicking on it's name (near
							the bottom left of the window). When the settings dialog opens,
							click "start".
						</td>
					</tr>
					<tr>
						<td>
							<img src="images/testpanel_send.png" alt="Main Window" class="magnify" style="width:207px; height:144px" align="left" />
						</td>
						<td style="background: #FFFFFF;">
							Then, choose the message to send by clicking on the message in the
							message list (near the top left of the window). Now, click send.
						</td>
					</tr>
				</table>

			</subsection>

			<subsection name="Message Validation">
			
				<table border="0" cellpadding="4" cellspacing="4">
					<tr>
						<td>
							<img src="images/testpanel_validating.png" alt="Main Window" class="magnify" style="width:207px; height:144px" />
						</td>
						<td style="background: #FFFFFF;">
							Select the "Validate" dropdown and make sure it's set to "Default Datatype Validation".
							This puts TestPanel in a mode where values in the message are validated using
							<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/validation/impl/DefaultValidation.html">HAPI Datatype Validation</a>.
							Look for the timestamp in the MSG segment and add some letters to it (this is invalid according to HL7). 
							HAPI will then mark this field with a red X. You can hover your mouse over this X to see why
							it failed. (Note that HAPI's error messages can be a bit unfriendly. This is something
							that needs to be cleaned up) 
						</td>
					</tr>
					<tr>
						<td>
							<img src="images/testpanel_conf.png" alt="Main Window" class="magnify" style="width:207px; height:144px" align="left" />
						</td>
						<td style="background: #FFFFFF;">
							HAPI can also validate using HL7 Conformance Profiles. To test this out,
							first you need a profile. <a href="VA-ADT_A01.xml">here is one example</a>.
							<br/><br/>
							Save the profile to your local hard drive, then choose the "Validate" dropdown
							again and choose "Apply Conformance Profile". Select the XML file you downloaded.
							<br/><br/>
							You should now see various profile rules being applied.  
						</td>
					</tr>
				</table>
			
			
			</subsection>
			
			<p>
				This help document is not yet complete. Want to help finish it?
				Get in touch with <a href="jamesagnew@users.sourceforge.net">James Agnew</a>.
			</p>


		</section>

	</body>

</document>
