<?xml version="1.0"?>
<document xmlns="http://maven.apache.org/changes/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 ./changes.xsd">
	<properties>
		<title>HAPI</title>
	</properties>
	<body>
        <release version="1.1" date="TBA"
            description="This section contains features and fixes which will be contained in the next release of HAPI. They may be tested by building from source.">
            <action type="update" dev="jamesagnew">Update structure classes source generator to use an Apache Velocity based template instead of simple hard-coded string concatenation. This will make it much easier to add new features to the structures in the future.</action>
            <action type="update" dev="jamesagnew">Message now has a method printStructure(), which returns a useful String for debugging containing a description of the entire structure of the message</action>
            <action type="fix" dev="jamesagnew">GenericParser ignores custom ModelClassFactory implementations passed into its constructor. Thanks to John R for reporting.</action>
        </release>
        <release version="1.0.1" date="2010-05-16"
            description="This release corrects a single issue">
            <action type="fix" due-to="Irving Reid" issue="3002194">Correct an issue where a NullPointerException occurs if a mandatory segment at the end of a message is not present</action>
        </release>
		<release version="1.0" date="2010-04-12"
            description="This release adds a newly reworked PipeParser, and number of new features">
            <action type="fix">Correct regression introduced in 1.0-beta1 where a second segment within a group with the same name (i.e. the two PID segments in an ADT^A17) fails to parse correctly.</action>
            <action type="fix">Provide default implementation of new abstract method "createNewTypeWithoutReflection" on AbstractSegment class to prevent breaking existing user defined types. Thanks to Christian Ohr for reporting.</action>
            <action type="update" dev="jamesagnew">Clean up logging in ServerSocketStreamSource (used by HL7Server) so that it doesn't spew unneccesary logs while waiting for a connection</action>
            <action type="update" dev="jamesagnew">Remove all test suites (not tests, just the suites), as they cause maven to execute tests twice, and clean up test execution. Full test suie execution is down to ~90 seconds from 10 mins.</action>
		</release>
		<release version="1.0-beta1" date="2009-11-28"
            description="This version has not yet been released.">
            <action type="add" due-to="Christian Ohr, Niranjan Sharma"><![CDATA[Add two new ModelClassFactory implementations: <a href="base/apidocs/ca/uhn/hl7v2/parser/CanonicalModelClassFactory.html">CanonicalModelClassFactory</a> (always returns the same version), and <a href="base/apidocs/ca/uhn/hl7v2/parser/CustomModelClassFactory.html">CustomModelClassFactory</a> (provides easy way to use custom structure packages)]]></action>
            <action type="fix" dev="jamesagnew">Fix a bug where formatting escape sequences were stripped from messages (i.e. leave sequences such as /.br/ alone)</action>
            <action type="add" due-to="Christian Ohr">Overhaul Escape class (handles HL7 escape sequences) to dramatically improve performance</action>
            <action type="fix" due-to="Jan Klasser" issue="1809573">Fix NullPointerException in DefaultValidator when no table present for an ID datatype</action>
            <action type="fix" dev="jamesagnew">Allow parsing of unknown message types for 2.5.1 and 2.6 messages</action>
            <action type="update" dev="jamesagnew">Convert HAPI source version JDK 5.0. This allows the use (and begins a gradual conversion) to generics by HAPI's internal structures. Support for JDK1.4 will still remain through version specific JARs produced by RetroTranslator.</action>
            <action type="add" dev="jamesagnew">Add getNames() method to Segment, to allow programatic access to segment's field names (needed by hUnit)</action>
            <action type="fix" due-to="Gerald Bortis, Christian Ohr" issue="1263250">Fix serialization of HAPI Message objects. Also added serialVersionUID to a number of core classes.</action>
            <action type="fix" due-to="Chris Busch">Fix a memory leak in Escape.java when lots of different encoding chars are used</action>
			<action type="fix" dev="jamesagnew">Modify ProcessorImpl (HL7Server processing class) to use an ExecutorService instead of spawning a new thread for each message to generate ACKs.</action>
			<action type="fix" due-to="Gerald Bortis, Polloloco" issue="2164291">Fix XML parsing of seg groups containing more than one instance of the same segment (e.g. A17)</action>
		</release>
		<release version="0.6" date="2009-07-01"
			description="This release adds support for HL7 2.5.1 and 2.6, as well as fixing a number of issues and introducing a new build system.">			
			<action type="add" due-to="Christian Ohr" issue="2793054">Add constructors to all parser types allowing a custom model factory</action>
			<action type="fix" due-to="Gerald Bortis, Polloloco" issue="2164291">Fix XML parsing of seg groups containing more than one instance of the same segment (e.g. A17)</action>
			<action type="add" due-to="Peter Gershkovich">Added isRunning() method to SimpleServer</action>
			<action type="add" dev="jagnew">Add NULLDT datatype, to be used in withdrawn fields. Note that default validation expects this datatype to be empty, but custom validation does not need to enforce this.</action>
			<action type="add" dev="jagnew">Add setEncoding method to XmlParser to allow text encoding to be specified when creating XML messages. In response to mailing list query from Fernando Ramírez Sánchez</action>
			<action type="add" due-to="Chris Horneck" issue="1890219">Add single argument constructor to ID datatype, to allow it to be used in OBX-5</action>
			<action type="add" dev="jagnew">New HAPI maven repository now available at http://hl7api.sourceforge.net/m2/</action>
			<action type="fix" due-to="Frédéric Dubru">Make PipeParser not crash on empty segments (meaning segments with just a segment name, no field separator or fields)</action>
			<action type="fix" due-to="Greg Groves" issue="1662979">NullPointerException if OBX-2 is invalid and OBX-5 is set</action>
			<action type="fix" dev="btripp" issue="1657929">Parsing fails when (pipe) is used as non-field separator</action>
			<action type="add" dev="jagnew">Allow Parser to accept a null ValidationContext, which will prevent any attempt at validating messages from being made.</action>
			<action type="add" due-to="Andy Pardue">Allow Parsers now get their default validation context from ValidationContextFactory if none is supplied</action>
			<action type="add" due-to="Andy Pardue">Allow A new system property (See Varies JavaDoc) may be specified to supply a default datatype to be assumed for OBX-5 if none is found in OBX-2. A missing OBX-2 is not a valid case, but this property would allow a user to work around problems receiving from a bad message source</action>
		</release>
		<release version="0.5.1" date="2007-02-18"
			description="This release fixes only one issue. In the previous release (0.5), some classes were released with a dependency on Java 5. HAPI officially supports JDK version 1.4, so this release corrects the dependency.">
			<action type="fix" dev="jagnew">Remove JDK 5 dependency</action>
		</release>
		<release version="0.5" date="2006-12-14">
			<action type="fix" issue="1557203">hapi 0.4.3 Class Parser : Multi-threading conflict can occur</action>
			<action type="fix" issue="1547989">Unescaping in XMLParser.getCriticalResponseData()    </action>
			<action type="fix" issue="1539866">PipeParser.getCriticalResponseData() does not use version</action>
			<action type="fix" issue="1539352">NullPointerException on garbage messages </action>
			<action type="fix" issue="1536231">Class ExtraComponents not Serializable</action>
			<action type="fix" issue="1536200">"I" instead of "PID" freezes the parser</action>
			<action type="fix" issue="1525034">validation contexts are not used during parsing</action>
			<action type="fix" issue="1525029">Error generating error responses for XML messages</action>
			<action type="fix" issue="1482059">SIU S12 Segment Issue  </action>
			<action type="fix" issue="1405670">DFT-P03 - incorrect message structure</action>
			<action type="fix" issue="1377382">NM integer magnitude limited to java int</action>
			<action type="fix" issue="1368028">ORU_R01_OBSERVATION incorrectly defined</action>
			<action type="fix" issue="1284281">OBX-5 type assignment only operates on first rep</action>
			<action type="fix" issue="260957">Missing Code in Version 2.5</action>
			<action type="fix" issue="1240698">ORL_O34 message incorrectly defined</action>
		</release>
	</body>
</document>
